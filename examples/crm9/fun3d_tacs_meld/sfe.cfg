!
! Case setup
!
caseName = crm_invis_tet
Mach = 0.2       ! -> set from fun3d.nml::reference_physical_properties::mach_number
Reynolds = 6.0e6 ! -> set from fun3d.nml::reference_physical_properties::reynolds_number
angle = 0.0      ! -> set from fun3d.nml::reference_physical_properties::angle_of_attack
yaw = 0.0        ! -> set from fun3d.nml::reference_physical_properties::angle_of_yaw
Reference_Length = 1.0
viscous_flag = 0      ! 0 = false, 1 = true  ! -> set from fun3d.nml::governing_equations::viscous_terms
turbulent_flag = 0    ! 0 = false, 1 = true  ! -> set from fun3d.nml::governing_equations::viscous_terms
!
! Thermodynamics
!
whichGas = 1
gas_name = air
patm = 1.0
temperature = 300.0  ! -> set from fun3d.nml::reference_physical_properties::temperature
R = 8314.0
Cp = 1006.2
gamma = 1.4                 ! -> set from fun3d.nml::reference_physical_properties::gamma
Prandtl = 0.72              ! -> set from fun3d.nml::governing_equations::prandtlnumber_molecular
sutherland_constant = 198.6 ! -> set from fun3d.nml::reference_physical_properties::sutherland_constant
sutherland_tref = 460
viscosity_model = 1          ! 0: constant, 1: Sutherland's Law
thermal_conductivity_model = 0 ! 0: constant, 1: determined from Prandtl number

!
! Boundary conditions
!
weakBC = 0
penalty = 2.7
initialize_wall = .true.
adiabatic = 0
use_adiabatic_temp = .true.
twall_set = 1.0
custom_subsonic_inflow_pt = 0
Tt_set = 1.0
pt_set = 1.0
!
! Adjusting back pressure
!
!
! Targets
! no_averaging_operation       = 0
! average_total_pressure       = 1 (expressed in terms of ratio to freestream: 1.0 => match ptot in freestream)
! average_pressure_coefficient = 2
!
! Common boundary choices
! far_field_roe        = 5000
! subsonic_inflow_pt   = 7011
! subsonic_outflow_p0  = 7012
! back_pressure        = 5051
!
! For initialization: back_pressure_ratio = 1.0
!                     previous_value = 1.0 (target = 1)
!                                    = 0.0 (target = 2)
! For restarts, get back_pressure_ratio and current target value from solver output
!
!back_pressure_update_frequency = 5
!back_pressure_associated_boundary_target = 0
!back_pressure_associated_boundary_tag =5000
!back_pressure_associated_boundary_target_value = 1.0
!back_pressure_tag = 5051
!back_pressure_ratio = 1.0

!
! Solver parameters
!
disk_io = .true.
ompThreads = 1
ihand = 0
first_order = .false.
polynomial_order = 1
volume_order = 2
volume_order_lhs = 2
surface_order = 3
cfl_star = 0
negative_SA = 1
turbinf = 3.0
sa_scale = 1000.
nd_boost = 1.0
dq0_threshold = 0.15
sa_reduction = .false.
sa_reduction_threshold = 100.0
sa_reduction_factor = 10.0
QCR = .false.
QCR_BC = .false.
RC = .false.
DES = .false.
DDES = .false.
Cdes = 0.65
zero_des_dx = .false.
zero_des_dy = .false.
zero_des_dz = .false.
ct3 = 1.2
ct3_neg = 1.2
vorticity_blend = 0
vorticity_weight = 100.0
freezeTurbulence = .false.
omega = 1.0
relaxFlag = 1
printColoring = 0

mini_app_flow = 0
simple_distance = 1
!
! Nonlinear solver
!
! Residual weightings
! 1: ||R/V||_1
! 2: ||R/V||_2
! 3: ||R/V||_4
! 4: || R ||_2
! 5: || R / (V^(1/3)) ||_2
! 6: || R / delta tau ||_2
! 7: || R * (1 + strong residual stuff) ||_2
p_rms = 6
p_rms_check = 2
p_rms_scale = 1.0
nonlinear_indicator = 0.02
minimum_omega = 0.001
residual_reduction_target = 0.5
round_off_termination = 0
round_off_tolerance = 1.0e-12
golden_search = 0
golden_iterations = 25
golden_tolerance = 1.e-6
printLineSearch = -2
!
! Time-stepping
!
restart_read = 0    ! -> set from fun3d.nml::code_run_control::restart_read
timeAccuracy = 0    ! -> set from fun3d.nml::nonlinear_solver_parameters::time_accuracy
timeStep = 0.0      ! -> set from fun3d.nml::nonlinear_solver_parameters::time_step_nondim
dynamic_mesh = 1
pseudo_time = 0
pseudo_time_mode = 0 ! 0 = Petrov_Galerkin_pseudo_time, 1 = Galerkin_pseudo_time, 2 = nodal_diagonal_pseudo_time
use_sdirk = 0
nstages = 5
freeze_at_cflmax = .false.
!nsubIterations = 6  ! -> set from fun3d.nml::nonlinear_solver_parameters::subiterations
cfl_controller = 0 ! 0 = baseline, 1 = experiment0, 2 = experiment1
cflinit = 1.0
cflmin = 0.1
cflmax = 1.0e6
cfl_multiplier = 2.0
cfl_divisor = 0.1
rtol = 1e-15

conservativeRamping = 0
!
! Residual smoothing
!
  residual_smoothing = .false.
  residual_smoothing_coefficient = 10.0
  residual_smoothing_secondary_coefficient = 50.0
  residual_smoothing_switch_interval = 5
  residual_smoothing_start_ramp_down = 1.e60
  residual_smoothing_end_ramp_down = 1.e70
!
! Shock capturing
!
! Simple switch with shock_ad
! 1: dumb_dissipation    (simpleCoef_dumb)
! 2: dumb_ramped         (simpleCoef_dumb,xstart_dn,xend_dn)
! 3: entropy_smoothing   (simpleCoef,shock_clip[0.1])
! 4: pressure_smoothing  (simpleCoef,shock_clip[0.05])
! 5: larsson_smoothing   (larsson_coef,xstart_up,xend_up,xstart_dv,xend_dv)
! 6: ducros_smoothing    (ducros_coef)
! 7: turbulent_wake      (experimental)
! 8: ryan_smoothing      (ryan_coef)
shock_ad = .false.
simpleSwitch = 2
simpleCoef = 1.0
simpleCoef_dumb = 1.0
shock_clip = 0.1
shock_exponent = 1
tanh_blend = 0
shock_beta = 10.0
ducros_coef = 1.0e-20
ryan_coef = 0.05

larsson_coef = 1.0
larsson1 = 1.5
larsson2 = 0.05
xstart_up = 0.05
xend_up = 0.1
xstart_dv = -0.001
xend_dv = 0.0
xstart_dn = 50.0
xend_dn = 500.0
writeShockSensor = .false.
writeDiscontinuity_Visc = .false.
!
! Linear algebra
!
iupdate = 1
writeMatrix = 0  ! 0 = false, 1 = before scaling, 2 = after scaling
krylov_dimension = 300
max_matvecs = 1200
linear_report_interval = 1
normalize_rows = .false.
linear_solver = gmres      ! supported: sparskit, sparskit_fgmres, slat, slat_fgmres
preconditioner = iluk     ! supported: iluk, lsbilu, parnqilu, parbilu, parsbilu
block_multiple = 5        ! parsbilu parameter
!reorder = none
reorder = cmk      ! supported: cmk, k-ordering
reverse = .false.
q_ordering = 1
prune_width = 0.5
stationary_nodes = .true.
level_of_fill = 2
linear_kickout = 1
relative = 1e-15
absolute = 1e-15
!
! Development inspection tools
!
scatter_plot_interval = 0
preconditioner_monitor = 1
preconditioner_monitor_factor = 1.0e10
preconditioner_monitor_write_matrix = 0

